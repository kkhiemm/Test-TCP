using System;
using System.Collections.Generic;
using System.IO;
using System.IO.Compression;
using System.Linq;
using System.Net.Http;
using System.Net.Sockets;
using System.Text;
using System.Threading.Tasks;

namespace Test_TCP
{
    class Program
    {
        static async Task Main(string[] args)
        {
            Console.WriteLine("Starting...");
            var dataList = new List<string>
            {
				// 864292043521176
                // codec 8
                // "000F383634323932303433353231313736000000000000002d08010000017d276fdbf00056720706e98bd95b00700008130038000402010115030142364701c70000006900010000255d"
                // codec 8e
                // "000f383634323932303433353231313736000000000000049b8e0c0000017d31f8d5b800566c31f2e9663710001a008209000700000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000500b60004004231ed0018000700430f4b00440000000200f10000c5450010000a7f2e000000000000017d31f971f800566c319ee966369c0019008c08000000000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000500b60004004231ee0018000000430f4b00440000000200f10000c5450010000a7f2e000000000000017d31fa0e3800566c3277e9663454000f013c07000500000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000600b60005004231ee0018000500430f4b00440000000200f10000c5450010000a7f3e000000000000017d31fa44e800566c3360e96637000012008406000600000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000800b60007004231f00018000600430f4b00440000000200f10000c5450010000a7f46000000000000017d31fabe0000566c316ce9663486001c009807000700000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000a00b60007004231ee0018000700430f4b00440000000200f10000c5450010000a7f4d000000000000017d31faf0c800566c301fe9663638001d015b08000700000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000500b60004004231fe0018000700430f4b00440000000200f10000c5450010000a7f58000000000000017d31fb006800566c2ed2e966382c001f014207000800000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000600b60005004231d50018000800430f4b00440000000200f10000c5450010000a7f5e000000000000017d31fb7d6800566c2eb0e96639ab001d015608000600000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000500b60004004231db0018000600430f4b00440000000200f10000c5450010000a7f6b000000000000017d31fbc7a000566c3234e96639ab001b000808000600000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000900b60005004231f80018000600430f4b00440000000200f10000c5450010000a7f76000000000000017d31fbfa6800566c3108e966355f001900b207000a00000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000600b60005004231c20018000a00430f4b00440000000200f10000c5450010000a7f82000000000000017d31fbfe5000566c3108e96634440018009c07000a00000010000800ef0100f00100150400c80000450100010101f10001f200000600b5000600b60005004231c30018000900430f4b00440000000200f10000c5450010000a7f85000000000000017d31fd699800566c318ee966354e0011008f08000700000010000800ef0100f00100150500c80000450100010101f10001f200000600b5000500b60004004231700018000700430fd80044008d000200f10000c5450010000a7f90000000000c00000000"

                // start trip
                // "000F383634323932303434343734313933000000000000002d08010000017d276fdbf00056720706e98bd95b00700008130038000402010115030142364701c70000006900010000255d"
                // end trip
                // "000F383634323932303434343734313933000000000000002f08010000017cfeba8890005a056203ebc8e0c9000000000000000005030100450115020142320001c700000000000100009be1",

                // data 30/12/2021
                // "000f383634323932303433353231313736000000000000049b8e0c0000017d5d53b25000566c2e8fe96631a9001a008407000600000010000800ef0100f00100150300c80000450100010101f10001f200000600b5000500b6000400422f9e0018000600430f7600440000000200f10000c5450010000b1541000000000000017d5d544e9000566c2d63e96633180017008807000000000010000800ef0100f00100150300c80000450100010101f10001f200000600b5000500b6000400422fbd0018000000430f7600440000000200f10000c5450010000b1544000000000000017d5d54ead000566c2e2be966337c0013014609000000000010000800ef0100f00100150300c80000450100010101f10001f200000600b5000500b6000300422fc30018000000430f7600440000000200f10000c5450010000b154e000000000000017d5d5515c800566c2faae96630e10018009108000800000010000800ef0100f00100150300c80000450100010101f10001f200000600b5000500b6000400422fb00018000800430f7600440000000200f10000c5450010000b1557000000000000017d5d55b20800566c32a9e9662c74001a009407000b00000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000400422f9a0018000b00430f7600440000000200f1000000000010000b1566000000000000017d5d564e4800566c3072e9662f1f0011013f08000000000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f8e0018000000430f7600440000000200f1000000000010000b156c000000000000017d5d5661d000566c3119e9662e890013009508000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f950018000900430f7600440000000200f1000000000010000b156e000000000000017d5d56fe1000566c300ee9663166000a014c09000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000300422f9a0018000900430f7600440000000200f1000000000010000b1585000000000000017d5d5738a800566c2e5de96630f2000800bf08000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000300422f960018000700430f7600440000000200f1000000000010000b158b000000000000017d5d573c9000566c2e9fe966305c000800a008000a00000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000300422f990018000a00430f7600440000000200f1000000000010000b158b000000000000017d5d57d8d000566c2e3ce9663198000500a208000000000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f890018000000430f7600440000000200f1000000000010000b1591000000000000017d5d58136800566c2ec1e96633070001014c06000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f9a0018000600430f7600440000000200f1000000000010000b1596000000000c00000aac"
                // "000f383634323932303433353231313736000000000000049b8e0c0000017d5d6e2f9000566c2f04e9663648000d007408000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f8f0018000400430f7600440000000200f1000000000010000b178c000000000000017d5d6e71f800566c2c7ae9663742000d012108000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f680018000800430f7600440000000200f1000000000010000b1792000000000000017d5d6f0e3800566c2ed2e966368b0011012007000000000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000500422f6e0018000000430f7600440000000200f1000000000010000b1795000000000000017d5d6f354800566c2e8fe96637a60013007d06000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000700422f670018000900430f7600440000000200f1000000000010000b179b000000000000017d5d6f7b9800566c2fdce9663648000f013708000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000600422f6e0018000600430f7600440000000200f1000000000010000b17ac000000000000017d5d6fa2a800566c2e5de966368b0018008408000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422f820018000800430f7600440000000200f1000000000010000b17b0000000000000017d5d6fd18800566c2ceee9663570001c014e08000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f7e0018000700430f7600440000000200f1000000000010000b17ba000000000000017d5d6fece000566c2b0be966368b001c013509000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f6e0018000700430f7600440000000200f1000000000010000b17c0000000000000017d5d7013f000566c2afae96635f50020009909000b00000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000400422f820018000b00430f7600440000000200f1000000000010000b17c0000000000000017d5d704e8800566c2cffe966334a001c013706000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000700422f6e0018000700430f7600440000000200f1000000000010000b17d0000000000000017d5d70798000566c2be3e96633180020009306000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000700422f710018000700430f7600440000000200f1000000000010000b17d3000000000000017d5d70b80000566c2e3ce96632820020014206000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000700422f6e0018000700430f7600440000000200f1000000000010000b17dc000000000c000008cf"
                // "000f383634323932303433353231313736000000000000049b8e0c0000017d5d8fa21000566c2c26e9663742001f00ab07000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422f650018000700430f7600440000000200f1000000000010000b1a01000000000000017d5d8fa9e000566c2c8ae96635e4001f009707000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000500422f6e0018000900430f7500440000000200f1000000000010000b1a04000000000000017d5d8fd8c000566c2c8ae966368b001f015c08000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000500422f320018000800430f7600440000000200f1000000000010000b1a0f000000000000017d5d902ac800566c2c69e96636ef001a009908000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f3a0018000600430f7600440000000200f1000000000010000b1a12000000000000017d5d90656000566c2f46e96635910019014d08000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f480018000700430f7600440000000200f1000000000010000b1a1b000000000000017d5d909ff800566c2ef3e966368b0017009e09000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000300422f5c0018000700430f7400440000000200f1000000000010000b1a1e000000000000017d5d90de7800566c2d84e96637000018014a0a000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000300422f420018000600430f7600440000000200f1000000000010000b1a21000000000000017d5d916b1800566c2dd8e96637210013009709000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f5d0018000600430f7600440000000200f1000000000010000b1a21000000000000017d5d91a99800566c2e0ae96635e40013014107000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000700422f2b0018000600430f7400440000000200f1000000000010000b1a25000000000000017d5d91bd2000566c2faae96635a20013009008000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f560018000700430f7600440000000200f1000000000010000b1a28000000000000017d5d91fba000566c2fbbe966354e0014014108000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f420018000600430f7500440000000200f1000000000010000b1a2b000000000000017d5d9278a000566c2b90e96637850016009a08000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f440018000700430f7500440000000200f1000000000010000b1a3d000000000c0000b4f6"
                "000f383634323932303433353231313736000000000000004708020000017d7078b678005a1d8879ebc71e3efff700d40a00000002020101ef010000000000017d70792ba8005a1d8879ebc71e3efff700d40b00000002020101ef01000000020000d8a8"
                // "000f383634323932303433353231313736000000000000049b8e0c0000017d5d92b33800566c2ad9e96637640016014e08000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f460018000600430f7600440000000200f1000000000010000b1a40000000000000017d5d92e9e800566c2c26e9663774001500a409000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f3e0018000700430f7300440000000200f1000000000010000b1a46000000000000017d5d93862800566c2c26e96636bd0016009d08000000000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422f420018000000430f7600440000000200f1000000000010000b1a46000000000000017d5d93f38800566c2eb0e96635c30018014a08000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422f240018000600430f7400440000000200f1000000000010000b1a5c000000000000017d5d940af800566c2e2be96636270017009d08000a00000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422f430018000a00430f7600440000000200f1000000000010000b1a5c000000000000017d5d94802800566c2e3ce96634330016014008000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000300422f420018000700430f7600440000000200f1000000000010000b1a62000000000000017d5d94b2f000566c2f46e96633e00017009508000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000300422f4f0018000900430f7600440000000200f1000000000010000b1a6a000000000000017d5d94f17000566c3083e96634c90016014406000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422f190018000600430f7200440000000200f1000000000010000b1a74000000000000017d5d958db000566c2b4ee96639fe001e00ab08000000000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f420018000000430f7600440000000200f1000000000010000b1a8b000000000000017d5d9629f000566c2dd8e9663915001e008b09000500000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f680018000500430f7600440000000200f1000000000010000b1a91000000000000017d5d968b9800566c2dc7e96638b10020009f09000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422f500018000600430f7200440000000200f1000000000010000b1a91000000000000017d5d96fce000566c2cdee96639790022008b08000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000900b6000600422f5f0018000800430f7600440000000200f1000000000010000b1a91000000000c00003e99"
                // "000f383634323932303433353231313736000000000000049b8e0c0000017d5f6417d800566c2e0ae966385e0014012f07000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422cd40018000600430f7100440000000200f1000000000010000b390b000000000000017d5f641fa800566c2e8fe96639680014015d07000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422ca90018000600430f7100440000000200f1000000000010000b390e000000000000017d5f643b0000566c319ee96636ac0013008c07000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422cec0018000600430f7100440000000200f1000000000010000b3919000000000000017d5f6446b800566c32cae96636170013006b07000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422cec0018000600430f7100440000000200f1000000000010000b391c000000000000017d5f649ca800566c3256e96636170012005107000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422cf40018000600430f7100440000000200f1000000000010000b3923000000000000017d5f64eac800566c3119e9663486000e007407000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422ce90018000600430f7100440000000200f1000000000010000b3928000000000000017d5f65062000566c3277e9663328000b008f08000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422ce50018000700430f7100440000000200f1000000000010000b392b000000000000017d5f6538e800566c2fdce96637000008014607000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422ca10018000800430f7100440000000200f1000000000010000b393c000000000000017d5f65582800566c319ee966383c0008007207000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422cda0018000700430f7100440000000200f1000000000010000b3942000000000000017d5f658af000566c319ee96638a00004012805000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000600422cdf0018000600430f7100440000000200f1000000000010000b3948000000000000017d5f65aa3000566c2dd8e96638d3000500f206000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000600422cb00018000800430f7000440000000200f1000000000010000b3952000000000000017d5f65aa3a00566c2d84e966398a0006011805000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000a00b6000800422ca90018000800430f7000440000000200f1000000000010000b3952000000000c0000c965"
                // "000f383634323932303433353231313736000000000000049b8e0c0000017d5f65c1a000566c2cbce9663a73000a006705000700000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000600422cd30018000700430f7100440000000200f1000000000010000b395e000000000000017d5f65d91000566c2fcce96639cc000c007c05000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000b00b6000600422cf60018000800430f7100440000000200f1000000000010000b3965000000000000017d5f66040800566c315ce966369c000a012106000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000700b6000600422cdf0018000900430f7100440000000200f1000000000010000b3971000000000000017d5f6607f000566c3051e966367a000a010707000a00000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000800b6000600422cde0018000500430f7100440000000200f1000000000010000b3971000000000000017d5f6613a800566c2faae9663796000c012708000800000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000900b6000400422cda0018000800430f7100440000000200f1000000000010000b3974000000000000017d5f66234800566c2de8e96636de000f00f609000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422c9b0018000600430f7100440000000200f1000000000010000b397a000000000000017d5f663ab800566c2de8e96637530014004909000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422cda0018000900430f7100440000000200f1000000000010000b397a000000000000017d5f666d8000566c2d95e966368b0016011b09000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000500b6000400422cdf0018000900430f7100440000000200f1000000000010000b3987000000000000017d5f66755000566c2be3e96635810016010509000c00000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000900b6000400422ccf0018000c00430f7000440000000200f1000000000010000b3989000000000000017d5f6688d800566c281de96636170019011e06000c00000010000800ef0100f00100150000c80000450100010101f10001f200000600b5001100b6000900422cb10018000c00430f7100440000000200f1000000000010000b3995000000000000017d5f66a04800566c29ade9663b7e001f003c07000900000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000600b6000500422cd70018000900430f7000440000000200f1000000000010000b39a6000000000000017d5f66c75800566c36a2e9663ad7001c005008000600000010000800ef0100f00100150000c80000450100010101f10001f200000600b5000b00b6000500422ce10018000600430f7100440000000200f1000000000010000b39c8000000000c0000f6cb"
			};
            foreach (var e in dataList)
            {
                PingWithTcpClient(e);
            }
            Console.WriteLine("Done.");
        }

        static void PingWithTcpClient(string data)
        {
            using var tcpClient = new TcpClient("127.0.0.1", port: 1207);
            // using var tcpClient = new TcpClient("7.tcp.ngrok.io", port: 11181);
            if (tcpClient.Connected)
            {
                Console.WriteLine("Connected.");
                var result = tcpClient.Client.Send(StringToByteArray(data));
                Console.WriteLine(result);
            }
            else
            {
                Console.WriteLine("Connect error.");
            }
        }

        public static byte[] StringToByteArray(string hex)
        {
            return Enumerable.Range(0, hex.Length)
                .Where(x => x % 2 == 0)
                .Select(x => Convert.ToByte(hex.Substring(x, 2), 16))
                .ToArray();
        }
    }
}
